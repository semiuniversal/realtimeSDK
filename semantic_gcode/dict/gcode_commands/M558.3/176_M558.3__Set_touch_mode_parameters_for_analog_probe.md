## M558.3: Set touch mode parameters for analog probe

Supported from RRF 3.6.0

### Parameters (provisional)

- **Knn** probe number

- **Sn** Mode to use: 0 = standard mode, 1 = touch mode

- **Fnnn** Feed rate to use (mm/min) in touch mode

- **Hn.nn** Nozzle height (mm) to be assumed when touch is detected, normally negative

- **Vn.nn** Touch mode threshold, between 0.0 (very sensitive) and 10.0 (very insensitive).

### Notes

- All parameters are optional. If the K parameter is not provided then probe 0 is assumed. If other parameters are not provided then their values remain unchanged. If no parameters (except possibly K) are provided then the existing values are reported.

- In standard mode the output of an analog Z probe is compared with the threshold as the probing move progresses. When the probe output reaches the threshold, probing stops and the Z height is assumed to be equal to the trigger height. In RepRapFirmware both the threshold and trigger height are set using the G31 command.

- In touch mode the output of the probe is monitored as the probing move progresses. When the rate of change reduces sharply (the exact details depending on the sensitivity parameters) it is assumed hat the nozzle has contacted the bed. The Z height is assumed to be the value set using the H parameter.

- When an analog Z probe is created using M558, the mode is set to standard mode, the feed rate in touch mode (M558.3 F parameter) is set to the feed rate in standard mode (first or only value of the M558 F parameter) and the touch mode nozzle height and sensitivity assume default values. Fast-then-slow probing is not available in touch mode, however you can still use the M558 A parameter to probe multiple times.

- More information is available at Using the SZP in touch mode to set Z height.

