## M36.2: Return height map data

From 3.6.1 onwards

This command is similar to M36.1 but is used to fetch the data from a height map file. The offset value should be 0 for the first call for a given file, or the value returned in the "next" field by a previous M36.1 command for that file. The response is in JSON format.

### Parameters

- **P"filename"** Name of the text file from which height map data is to be retrieved

- **Snnnn** Byte offset into the file from which data is to be fetched

### Example

M36.2 P"/heightmap.csv" S0

Sample response:

{"fragment":{"fileName":"heightmap.csv","offset":0,"data":"RepRapFirmware height map file v2 generated at 2025-02-05 15:54, min error -0.092, max error 0.034, mean -0.042, deviation 0.025\n deviation 0.025\n axis0,axis1,min0,max0,min1,max1,radius,spacing0,spacing1,num0,num1\n X,Y,-139.90,140.00,-139.90,140.00,140.00,27.98,27.98,11,11\n 0, 0, 0, 0, 0, -0.029, 0, 0, 0, 0, 0\n 0, 0, 0.034, 0.023, -0.017, -0.037, -0.031, -0.048, -0.060, 0, 0\n 0, -0.016, -0.027, -0.023, -0.050, -0.054, -0.058, -0.079, -0.062, -0.057, 0\n 0, -0.031, -0.052, -0.025, -0.041, -0.054, -0.052, -0.036, -0.060, -0.054, 0\n 0, -0.081, -0.076, -0.084, -0.058, -0.089, -0.054, -0.043, -0.032, -0.039, 0\n -0.046, -0.045, -0.050, -0.057, -0.073, -0.071, -0.041, -0.018, -0.025, -0.057, -0.092\n 0, 0.002, -0.021, -0.057, -0.071, -0.059, -0.053, -0.044, -0.034, -0.068, 0\n 0, 0.001, -0.042, -0.058, -0.051, -0.024, -0.027, 0.001, -0.017, -0.067, 0\n ","next":959,"err":0}}

The "fileName" and "offset" values are as given in the command. "data" is part or all of the requested data starting at that offset, with line breaks replaced by "\n". "next" is zero if there is no more data in the file, otherwise not all the file data was returned and "next" is the byte offset in the file of the rest of the data. "err" is 0 if the command was successful, otherwise "err" is nonzero and the other fields may or may not be present.

